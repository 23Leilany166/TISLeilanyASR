<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diseño de la Base de Datos del Subsistema - Trabajadores</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        a {
            text-decoration: none;
            color: #777;
            padding: 10px 15px;
            border-radius: 5px;
            margin-right: 10px;
            transition: color 0.3s, background-color 0.3s;
        }
        a:hover {
            color: white;
            background-color: #555;
        }
        h1, h2, h3 {
            background-color: #000;
            color: white;
            padding: 10px;
            border-radius: 5px;
        }
        h1 {
            margin-top: 20px;
        }
        h2 {
            margin-top: 15px;
        }
        h3 {
            margin-top: 10px;
        }
        pre {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            overflow-x: auto;
        }
        ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        img {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
    </style>
</head>
<body>

    <a href="/TISLeilanyASR/index.html">[Inicio]</a>
    <a href="./../Subsistemas/clientes.html">[Clientes]</a>
    <a href="./../Subsistemas/Trabajadores.html">[Trabajadores]</a>
    <a href="./../Subsistemas/Planos.html">[Planos]</a>
    <a href="./../Subsistemas/Proveedores.html">[Proveedores]</a>

    <h1>Diagrama de la Base de Datos</h1>
    <img src="./../imagenes/BDTrabajadores.png" alt="Diagrama de la base de datos" width="800">

    <h1>Descripción de la Base de Datos de Trabajadores</h1>

    <h2>Propósito General</h2>
    <p>La base de datos de Trabajadores está diseñada para gestionar todos los aspectos relacionados con los empleados de la constructora. Incluye información clave sobre cada trabajador, como su nombre, puesto, contacto, y su vinculación con clientes y proveedores en el marco de proyectos específicos. Esta base de datos facilita la administración del personal, la asignación de tareas y proyectos, y permite un registro detallado para una mejor gestión operativa y de recursos humanos.</p>

    <h2>Tabla Trabajadores</h2>
    <h3>Propósito</h3>
    <p>La tabla Trabajadores almacena toda la información relacionada con los empleados de la constructora, como los ingenieros, supervisores, y otros puestos clave. Es fundamental para realizar un seguimiento de cada trabajador, sus datos personales y la información de contacto.</p>

    <h3>Campos</h3>
    <ul>
        <li><strong>ID_Trabajador:</strong> Clave primaria única que identifica a cada trabajador en el sistema. El campo está configurado con IDENTITY, lo que asegura que se autoincremente automáticamente con cada nuevo trabajador.</li>
        <li><strong>Nombre:</strong> El primer nombre del trabajador. Es un campo obligatorio porque es esencial para poder identificar al trabajador.</li>
        <li><strong>Apellido_Paterno:</strong> El apellido paterno del trabajador. Es un campo opcional, aunque es útil para tener una identificación más completa.</li>
        <li><strong>Apellido_Materno:</strong> El apellido materno del trabajador. También es opcional, pero permite una identificación más completa.</li>
        <li><strong>Correo:</strong> Correo electrónico único del trabajador, esencial para las comunicaciones y como identificador del trabajador dentro del sistema.</li>
        <li><strong>Teléfono:</strong> Número de teléfono de contacto del trabajador. Este campo es obligatorio para facilitar la comunicación directa con el trabajador.</li>
        <li><strong>Dirección:</strong> Dirección física del trabajador, útil para enviar documentación o material relacionado con su trabajo. Este campo es obligatorio.</li>
        <li><strong>Sexo:</strong> Sexo del trabajador (M para masculino, F para femenino). Este campo es importante en algunos contextos de análisis y estadísticas, pero no es obligatorio para la operación del sistema.</li>
        <li><strong>FechaNacimiento:</strong> Fecha de nacimiento del trabajador. Este campo es útil para calcular la edad automáticamente y para obtener estadísticas demográficas del personal.</li>
        <li><strong>Puesto:</strong> Cargo o puesto del trabajador dentro de la empresa. Es obligatorio para poder asignar roles y responsabilidades dentro de los proyectos.</li>
    </ul>

    <h2>Relaciones Importantes</h2>
    <p>Las relaciones entre las tablas Trabajadores, Clientes, y Proveedores son fundamentales para garantizar una adecuada coordinación de tareas y la toma de decisiones en la empresa. A continuación, describimos las principales relaciones y su importancia.</p>

    <h3>Tabla Clientes_Trabajadores</h3>
    <h3>Propósito</h3>
    <p>La tabla Clientes_Trabajadores es una tabla de relación que vincula a los trabajadores con los clientes a los que están asignados. Un trabajador puede estar involucrado en varios proyectos de diferentes clientes, y un cliente puede tener varios trabajadores asignados. Esto facilita la asignación de tareas específicas y el seguimiento de los proyectos.</p>

    <h3>Campos</h3>
    <ul>
        <li><strong>ID_Cliente:</strong> Clave foránea que hace referencia a la tabla Clientes, indicando qué cliente está asociado con el trabajador.</li>
        <li><strong>ID_Trabajador:</strong> Clave foránea que hace referencia a la tabla Trabajadores, indicando qué trabajador está vinculado al cliente en cuestión.</li>
    </ul>

    <h3>Tabla Proveedores_Trabajadores</h3>
    <h3>Propósito</h3>
    <p>La tabla Proveedores_Trabajadores establece una relación entre los trabajadores y los proveedores de materiales o servicios a la constructora. Esta relación es esencial para poder identificar qué trabajadores están asociados con qué proveedores, lo que ayuda a gestionar los recursos necesarios para cada proyecto de manera eficiente.</p>

    <h3>Campos</h3>
    <ul>
        <li><strong>ID_Proveedor:</strong> Clave foránea que referencia a la tabla Proveedores, indicando qué proveedor está asociado con el trabajador.</li>
        <li><strong>ID_Trabajador:</strong> Clave foránea que referencia a la tabla Trabajadores, indicando qué trabajador está vinculado al proveedor en cuestión.</li>
    </ul>

    <h2>Tabla Proveedores</h2>
    <h3>Propósito</h3>
    <p>La tabla Proveedores es esencial para gestionar los proveedores que suministran materiales y servicios a la constructora. Esta tabla contiene información relevante sobre cada proveedor, como su nombre, datos de contacto y estado (activo o eliminado). Esta base de datos permite un control eficiente sobre los recursos materiales y humanos necesarios para la ejecución de proyectos.</p>

    <h3>Campos</h3>
    <ul>
        <li><strong>ID_Proveedor:</strong> Clave primaria única que identifica a cada proveedor.</li>
        <li><strong>Nombre:</strong> Nombre del proveedor.</li>
        <li><strong>Apellido_Paterno:</strong> Apellido paterno del proveedor.</li>
        <li><strong>Apellido_Materno:</strong> Apellido materno del proveedor.</li>
        <li><strong>Correo:</strong> Correo electrónico del proveedor, utilizado para comunicaciones.</li>
        <li><strong>Teléfono:</strong> Número de teléfono de contacto del proveedor.</li>
        <li><strong>Dirección:</strong> Dirección física del proveedor, necesaria para la logística de envío de materiales.</li>
        <li><strong>Sexo:</strong> Sexo del proveedor.</li>
        <li><strong>Fecha_nacimiento:</strong> Fecha de nacimiento del contacto principal del proveedor.</li>
        <li><strong>Eliminar:</strong> Indicador de eliminación lógica (0 = Activo, 1 = Eliminado), utilizado para marcar proveedores que ya no están activos sin eliminarlos completamente de la base de datos.</li>
    </ul>

    <h2>Código SQL para crear las tablas</h2>
    <pre><code>
        CREATE DATABASE TrabajadoresBD;
        USE TrabajadoresBD;

        -- Tabla de Trabajadores
        CREATE TABLE Trabajadores (
            ID_Trabajador INT PRIMARY KEY IDENTITY(1,1),
            Nombre NVARCHAR(100) NOT NULL,
            Apellido_Paterno NVARCHAR(100),
            Apellido_Materno NVARCHAR(100),
            Correo NVARCHAR(100) UNIQUE NOT NULL,
            Teléfono NVARCHAR(15) NOT NULL,
            Dirección NVARCHAR(255) NOT NULL,
            Sexo CHAR(1),
            FechaNacimiento DATE,
            Puesto NVARCHAR(50) NOT NULL
        );

        -- Tabla de Clientes
        CREATE TABLE Clientes (
            ID_Cliente INT PRIMARY KEY IDENTITY(1,1),
            Nombre NVARCHAR(100) NOT NULL,
            Apellido_Paterno NVARCHAR(100),
            Apellido_Materno NVARCHAR(100),
            Correo NVARCHAR(100) NOT NULL,
            Teléfono NVARCHAR(15) NOT NULL,
            Dirección NVARCHAR(255) NOT NULL,
            Sexo NVARCHAR(10) NOT NULL,
            Fecha_nacimiento DATE NOT NULL,
            Edad INT
        );

        -- Relación entre Clientes y Trabajadores
        CREATE TABLE Clientes_Trabajadores (
            ID_Cliente INT,
            ID_Trabajador INT,
            PRIMARY KEY (ID_Cliente, ID_Trabajador),
            FOREIGN KEY (ID_Cliente) REFERENCES Clientes(ID_Cliente),
            FOREIGN KEY (ID_Trabajador) REFERENCES Trabajadores(ID_Trabajador)
        );

        -- Relación entre Proveedores y Trabajadores
        CREATE TABLE Proveedores_Trabajadores (
            ID_Proveedor INT,
            ID_Trabajador INT,
            PRIMARY KEY (ID_Proveedor, ID_Trabajador),
            FOREIGN KEY (ID_Proveedor) REFERENCES Proveedores(ID_Proveedor),
            FOREIGN KEY (ID_Trabajador) REFERENCES Trabajadores(ID_Trabajador)
        );
    </code></pre>

    <h2>Código SQL para agregar registros a las tablas</h2>

    <h3>Registro de Trabajadores</h3>
    <pre><code>
    INSERT INTO Trabajadores (Nombre, Apellido_Paterno, Apellido_Materno, Correo, Teléfono, Dirección, Sexo, FechaNacimiento, Puesto) VALUES
    ('Juan', 'Pérez', 'González', 'juan.perez@example.com', '555-0101', 'Av. Siempre Viva, 123', 'M', '1990-01-01', 'Ingeniero Civil'),
    ('María', 'López', 'Fernández', 'maria.lopez@example.com', '555-0102', 'Calle Falsa, 456', 'F', '1985-05-15', 'Supervisor de Obra');
    </code></pre>

    <h3>Registro de Clientes</h3>
    <pre><code>
    INSERT INTO Clientes (Nombre, Apellido_Paterno, Apellido_Materno, Correo, Teléfono, Dirección, Sexo, Fecha_nacimiento, Edad) VALUES
    ('Carlos', 'García', 'Martínez', 'carlos.garcia@example.com', '555-0201', 'Calle Principal 789', 'M', '1980-10-10', 45),
    ('Ana', 'Rodríguez', 'Sánchez', 'ana.rodriguez@example.com', '555-0202', 'Calle Secundaria 101', 'F', '1992-06-20', 33);
    </code></pre>

    <h3>Relación entre Clientes y Trabajadores</h3>
    <pre><code>
    INSERT INTO Clientes_Trabajadores (ID_Cliente, ID_Trabajador) VALUES
    (1, 1), -- Cliente 1 con Trabajador 1
    (2, 2); -- Cliente 2 con Trabajador 2
    </code></pre>

    <h3>Relación entre Proveedores y Trabajadores</h3>
    <pre><code>
    INSERT INTO Proveedores_Trabajadores (ID_Proveedor, ID_Trabajador) VALUES
    (1, 1), -- Proveedor 1 con Trabajador 1
    (2, 2); -- Proveedor 2 con Trabajador 2
    </code></pre>

</body>
</html>
